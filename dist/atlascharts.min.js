var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.inherits=function(a,n){function q(){}q.prototype=n.prototype;a.superClass_=n.prototype;a.prototype=new q;a.prototype.constructor=a;for(var h in n)if("prototype"!=h)if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(n,h);c&&Object.defineProperty(a,h,c)}else a[h]=n[h]};
$jscomp.owns=function(a,n){return Object.prototype.hasOwnProperty.call(a,n)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,n,q){a!=Array.prototype&&a!=Object.prototype&&(a[n]=q.value)};
$jscomp.polyfill=function(a,n,q,h){if(n){q=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var c=a[h];c in q||(q[c]={});q=q[c]}a=a[a.length-1];h=q[a];n=n(h);n!=h&&null!=n&&$jscomp.defineProperty(q,a,{configurable:!0,writable:!0,value:n})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,q){for(var h=1;h<arguments.length;h++){var c=arguments[h];if(c)for(var e in c)$jscomp.owns(c,e)&&(a[e]=c[e])}return a}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var n=0;return $jscomp.iteratorPrototype(function(){return n<a.length?{done:!1,value:a[n++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,n){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var q=0,h={next:function(){if(q<a.length){var c=q++;return{value:n(c,a[c]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,q){return q})}},"es6","es3");$jscomp.polyfill("Object.values",function(a){return a?a:function(a){var n=[],h;for(h in a)$jscomp.owns(a,h)&&n.push(a[h]);return n}},"es8","es3");
define("atlascharts/chart",["d3","d3-selection","d3-scale"],function(a,n,q){var h=function(){};h.prototype.getOptions=function(c,e){return Object.assign({},{margins:{top:10,right:10,bottom:10,left:10},xFormat:a.format(",.0f"),yFormat:a.format("s"),colors:q.scaleOrdinal(q.schemeCategory20.concat(q.schemeCategory20c))},Object.assign({},c),Object.assign({},e))};h.prototype.createSvg=function(a,e,g){a=n.select(a);a.select("svg").remove();return a.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox",
"\n\t        0\n\t        0\n\t        "+e+"\n\t        "+g).append("g").attr("class","chart")};h.normalizeDataframe=function(c){var e=a.keys(c),g=Object.assign({},c);e.forEach(function(a){c[a]instanceof Array||(g[a]=[c[a]])});return g};h.dataframeToArray=function(c){var e=a.keys(c);return c[e[0]]instanceof Array?c[e[0]].map(function(a,b){var g={};e.forEach(function(a){g[a]=c[a][b]});return g}):[c]};h.prototype.wrap=function(c,e){c.each(function(){for(var g=a.select(this),b=g.text().split(/\s+/).reverse(),
c=[],k,d=0,y=g.attr("y"),f=parseFloat(g.attr("dy")),h=g.text(null).append("tspan").attr("x",0).attr("y",y).attr("dy",f+"em");k=b.pop();)c.push(k),h.text(c.join(" ")),h.node().getComputedTextLength()>e&&(1<c.length&&(c.pop(),b.push(k),h.text(c.join(" "))),c=[],h=g.append("tspan").attr("x",0).attr("y",y).attr("dy",1.1*++d+f+"em"))})};h.prototype.tooltipFactory=function(a){return function(c){var g="";if(void 0!==a)for(var b=0;b<a.length;b+=1){var l=a[b].accessor(c);void 0!==a[b].format&&(l=a[b].format(l));
g+=a[b].label+": "+l+"\x3c/br\x3e"}return g}};h.prototype.lineDefaultTooltip=function(a,e,g,b,l,k,d){return function(c){var f="";d(c)&&(f="Series: "+d(c)+"\x3c/br\x3e");f+=a+": "+e(g(c))+"\x3c/br\x3e";return f+=b+": "+l(k(c))}};h.prototype.donutDefaultTooltip=function(a,e,g){return function(b){return a(b)+": "+e(b)+" ("+g(b)+")"}};h.mapMonthYearDataToSeries=function(a,e){var g=Object.assign({},{dateField:"x",yValue:"y",yPercent:"p"},e),b={name:"All Time",values:[]};a[g.dateField].map(function(c,k){b.values.push({xValue:new Date(Math.floor(a[g.dateField][k]/
100),a[g.dateField][k]%100-1,1),yValue:a[g.yValue][k],yPercent:a[g.yPercent][k]})});b.values.sort(function(a,b){return a.xValue-b.xValue});return[b]};h.prepareData=function(a,e){switch(e){case this.chartTypes.BOXPLOT:if(!a.CATEGORY.length)return null;e=a.CATEGORY.map(function(g,b){return{Category:a.CATEGORY[b],min:a.MIN_VALUE[b],max:a.MAX_VALUE[b],median:a.MEDIAN_VALUE[b],LIF:a.P10_VALUE[b],q1:a.P25_VALUE[b],q3:a.P75_VALUE[b],UIF:a.P90_VALUE[b]}},a);return Object.values(e).reduce(function(a,b){return a.concat(b)},
[]).length?e:null}};$jscomp.global.Object.defineProperties(h.prototype,{formatters:{configurable:!0,enumerable:!0,get:function(){return{formatSI:function(c){c=c||0;return function(e){return 1>e?Math.round(e,c):a.format(",.0s",e)(e)}}}}}});$jscomp.global.Object.defineProperties(h,{chartTypes:{configurable:!0,enumerable:!0,get:function(){return{AREA:"AREA",BOXPLOT:"BOXPLOT",DONUT:"DONUT",HISTOGRAM:"HISTOGRAM",LINE:"LINE",TRELLISLINE:"TRELLISLINE"}}}});return h});
define("atlascharts/areachart",["d3"],function(a){return function(){this.render=function(n,q,h,c,e){var g={margin:{top:20,right:30,bottom:20,left:40},xFormat:a.format(",.0f"),yFormat:a.format("s")};e=Object.assign({},g,e);var b=h-e.margin.left-e.margin.right;g=c-e.margin.top-e.margin.bottom;var l=a.scale.linear().domain(a.extent(n,function(a){return a.x})).range([0,b]),k=a.scale.linear().domain([0,a.max(n,function(a){return a.y})]).range([g,0]);b=a.svg.axis().scale(l).tickFormat(e.xFormat).ticks(10).orient("bottom");
var d=a.svg.axis().scale(k).tickFormat(e.yFormat).ticks(4).orient("left"),y=a.svg.area().x(function(a){return l(a.x)}).y0(g).y1(function(a){return k(a.y)});q=a.select(q).append("svg:svg").data(n).attr("viewBox","0 0 "+h+" "+c).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate("+e.margin.left+","+e.margin.top+")");q.append("path").datum(n).attr("class","area").attr("d",y);q.append("g").attr("class","x axis").attr("transform","translate(0,"+g+")").call(b);q.append("g").attr("class",
"y axis").call(d)}}});
define("atlascharts/barchart",["d3","d3-tip","d3-scale","./chart"],function(a,n,q,h){var c=function(a){return h.apply(this,arguments)||this};$jscomp.inherits(c,h);c.prototype.render=function(c,g,b,l,k){var d=this,y=this.getOptions({label:"label",value:"value",rotate:0,textAnchor:"middle",showLabels:!1},k);g=this.createSvg(g,b,l);var f=n().attr("class","d3-tip").offset([-10,0]).html(function(a){return a.value});g.call(f);var e=y.label,h=y.value,m=0;c.forEach(function(a){m+=a[h]});b=b-y.margins.left-
y.margins.right;var u=l-y.margins.top-y.margins.bottom,r=a.scaleBand().range([0,b]).padding(.1).round(1/c.length),x=q.scaleLinear().range([u,0]);l=a.axisBottom().scale(r).tickSize(2,0);k=a.axisLeft().scale(x).tickFormat(y.yFormat).ticks(5);r.domain(c.map(function(a){return a[e]}));x.domain([0,y.yMax||a.max(c,function(a){return a[h]})]);var t=g.append("g").attr("class","axis");t.call(l);var w=Math.round(t.node().getBBox().height),z=Math.round(t.node().getBBox().width);u-=w;b-=Math.max(0,z-b);t.remove();
t=g.append("g").attr("class","axis");t.call(k);w=Math.round(t.node().getBBox().width);b-=w;t.remove();r.range([0,b]);x.range([u,0]);g=g.append("g").attr("transform","translate(\n\t          "+(y.margins.left+w)+",\n\t          "+y.margins.top+"\n\t        )");g.append("g").attr("class","x axis").attr("transform","translate(0, "+u+")").call(l).selectAll(".tick text").style("text-anchor",y.textAnchor).attr("transform",function(a){return"rotate("+y.rotate+")"});y.wrap&&g.selectAll(".tick text").call(this.wrap,
r.bandwidth());g.append("g").attr("class","y axis").attr("transform","translate(0, 0)").call(k);g.selectAll(".bar").data(c).enter().append("rect").attr("class","bar").attr("x",function(a){return r(a[e])}).attr("width",r.bandwidth()).attr("y",function(a){return x(a[h])}).attr("height",function(a){return u-x(a[h])}).attr("title",function(a){var p=a[e]+": "+d.formatters.commaseparated(a[h],",");return p=0<m?p+(" ("+d.formatters.formatpercent(a[h]/m)+")"):p+(" ("+d.formatters.formatpercent(0)+")")}).style("fill",
function(a){return y.colors(a[e])}).on("mouseover",function(a){return f.show(a,event.target)}).on("mouseout",f.hide).exit().remove();y.showLabels&&g.selectAll(".barlabel").data(c).enter().append("text").attr("class","barlabel").text(function(a){return d.formatters.formatpercent(a[h]/m)}).attr("x",function(a){return r(a[e])+r.bandwidth()/2}).attr("y",function(a){return x(a[h])-3}).attr("text-anchor","middle")};$jscomp.global.Object.defineProperties(c.prototype,{formatters:{configurable:!0,enumerable:!0,
get:function(){return{commaseparated:a.format(","),formatpercent:a.format(".1%")}}}});return c});
define("atlascharts/boxplot",["d3","d3-tip","d3-scale","./chart"],function(a,n,q,h){var c=function(a){return h.apply(this,arguments)||this};$jscomp.inherits(c,h);c.prototype.render=function(c,g,b,l,k){k=this.getOptions(k);g=this.createSvg(g,b,l);var d=this.formatters.formatSI(3),y=n().attr("class","d3-tip").offset([-10,0]).html(function(a){return"\x3ctable class\x3d'boxplotValues'\x3e\n\t          \x3ctr\x3e\n\t            \x3ctd\x3eMax:\x3c/td\x3e\n\t            \x3ctd\x3e"+d(a.max)+"\x3c/td\x3e\n\t          \x3c/tr\x3e\n\t          \x3ctr\x3e\n\t            \x3ctd\x3eP90:\x3c/td\x3e\n\t            \x3ctd\x3e"+
d(a.UIF)+"\x3c/td\x3e\n\t          \x3c/tr\x3e\n\t          \x3ctr\x3e\n\t            \x3ctd\x3eP75:\x3c/td\x3e\n\t            \x3ctd\x3e"+d(a.q3)+"\x3c/td\x3e\n\t          \x3c/tr\x3e\n\t          \x3ctr\x3e\n\t            \x3ctd\x3eMedian:\x3c/td\x3e\n\t            \x3ctd\x3e"+d(a.median)+"\x3c/td\x3e\n\t          \x3c/tr\x3e\n\t          \x3ctr\x3e\n\t            \x3ctd\x3eP25:\x3c/td\x3e\n\t            \x3ctd\x3e"+d(a.q1)+"\x3c/td\x3e\n\t          \x3c/tr\x3e\n\t          \x3ctr\x3e\n\t            \x3ctd\x3eP10:\x3c/td\x3e\n\t            \x3ctd\x3e"+
d(a.LIF)+"\x3c/td\x3e\n\t          \x3c/tr\x3e\n\t          \x3ctr\x3e\n\t            \x3ctd\x3eMin:\x3c/td\x3e\n\t            \x3ctd\x3e"+d(a.min)+"\x3c/td\x3e\n\t          \x3c/tr\x3e\n\t        \x3c/table\x3e"});g.call(y);var f=0,h=0;k.xLabel&&(f=g.append("g").attr("transform","translate("+b/2+", "+(l-k.margins.bottom)+")"),f.append("text").attr("class","axislabel").style("text-anchor","middle").text(k.xLabel),f=f.node().getBBox().height);k.yLabel&&(h=g.append("g").attr("transform","translate(\n\t            "+
k.margins.left+",\n\t            "+((l-k.margins.bottom-k.margins.top)/2+k.margins.top)+"\n\t          )"),h.append("text").attr("class","axislabel").attr("transform","rotate(-90)").attr("y",0).attr("x",0).attr("dy","1em").style("text-anchor","middle").text(k.yLabel),h=h.node().getBBox().width);b=b-k.margins.left-h-k.margins.right;l=l-k.margins.top-f-k.margins.bottom;var e=q.scaleBand().range([0,b]).round(1/c.length).domain(c.map(function(a){return a.Category})),m=q.scaleLinear().range([l,0]).domain([k.yMin||
0,k.yMax||a.max(c,function(a){return a.max})]);f=a.axisBottom().scale(e);var u=a.axisLeft().scale(m).tickFormat(k.yFormat).ticks(5),r=g.append("g").attr("class","axis");r.call(f);var x=Math.round(r.node().getBBox().height),t=Math.round(r.node().getBBox().width);l-=x;b-=Math.max(0,t-b);r.remove();r=g.append("g").attr("class","axis");r.call(u);x=Math.round(r.node().getBBox().width);b-=x;r.remove();e.range([0,b]);m.range([l,0]);var w=e.bandwidth()/2-5,z=e.bandwidth()/2-2.5;k=g.append("g").attr("transform",
"translate(\n\t          "+(k.margins.left+h+x)+",\n\t          "+k.margins.top+"\n\t        )");k.selectAll(".boxplot").data(c).enter().append("g").attr("class","boxplot").attr("transform",function(a){return"translate("+e(a.Category)+", 0)"}).each(function(p,b){b=a.select(this);p.LIF!=p.q1&&(b.append("line").attr("class","bar").attr("x1",z).attr("y1",m(p.LIF)).attr("x2",z+5).attr("y2",m(p.LIF)),b.append("line").attr("class","whisker").attr("x1",e.bandwidth()/2).attr("y1",m(p.LIF)).attr("x2",e.bandwidth()/
2).attr("y2",m(p.q1)));b.append("rect").attr("class","box").attr("x",w).attr("y",m(p.q3)).attr("width",10).attr("height",Math.max(1,m(p.q1)-m(p.q3))).on("mouseover",function(a){return y.show(a,event.target)}).on("mouseout",y.hide);b.append("line").attr("class","median").attr("x1",w).attr("y1",m(p.median)).attr("x2",w+10).attr("y2",m(p.median));p.UIF!=p.q3&&(b.append("line").attr("class","bar").attr("x1",z).attr("y1",m(p.UIF)).attr("x2",e.bandwidth()-z).attr("y2",m(p.UIF)),b.append("line").attr("class",
"whisker").attr("x1",e.bandwidth()/2).attr("y1",m(p.UIF)).attr("x2",e.bandwidth()/2).attr("y2",m(p.q3)))});k.append("g").attr("class","x axis").attr("transform","translate(0, "+l+")").call(f);k.selectAll(".tick text").call(this.wrap,e.bandwidth()||e.range());k.append("g").attr("class","y axis").attr("transform","translate(0, 0)").call(u)};return c});
define("atlascharts/donut","d3 d3-tip d3-shape d3-drag numeral ./chart".split(" "),function(a,n,q,h,c,e){var g=function(a){return e.apply(this,arguments)||this};$jscomp.inherits(g,e);g.prototype.render=function(b,g,k,d,e){function f(){var b=a.select(this);b.attr("initialX",event.x);b.attr("initialY",event.y)}function l(){var b=a.select(this),p=event.y-parseFloat(b.attr("initialY"));if(isNaN(p))return!1;b.attr("transform","translate(\n\t        "+parseFloat(b.attr("initialPositionX"))+",\n\t        "+
(parseFloat(b.attr("initialPositionY"))+p)+"\n\t      )")}function y(){var b=a.select(this);b.transition().duration(300).attr("transform","translate(\n\t          "+b.attr("initialPositionX")+",\n\t          "+b.attr("initialPositionY")+"\n\t        )")}var m=this,u=this.getOptions(e);e=this.createSvg(g,k,d);var r=0;b.forEach(function(a){r+=+a.value});g=this.donutDefaultTooltip(function(a){return a.label},function(a){return c(a.value).format("0,0")},function(a){return m.formatters.formatpercent(0!=
r?a.value/r:0)});var x=n().attr("class","d3-tip").direction("s").offset([3,0]).html(g);e.call(x);if(0<b.length){g=e.append("g").attr("id","chart");var t=h.drag().on("drag",l).on("start",f).on("end",y);e=e.append("g").attr("class","legend").call(t);e.selectAll("rect").data(b).enter().append("rect").attr("x",0).attr("y",function(a,b){return 15*b}).attr("width",10).attr("height",10).style("fill",function(a){return u.colors(a.id)});var w=0;t=e.selectAll("g.legend-item").data(b).enter().append("g").attr("class",
"legend-item");t.append("text").attr("x",12).attr("y",function(a,b){return 15*b+9}).text(function(a){return a.label});t.append("title").attr("x",12).attr("y",function(a,b){return 15*b+9}).text(function(a){return a.label});t.each(function(){var a=this.getBBox().width;a>w&&w+a<.75*k&&(w=a)});w+=12;e.attr("transform","translate(\n\t            "+(k-w-u.margins.right)+",\n\t            "+u.margins.top+"\n\t          )").attr("initialPositionX",k-w-u.margins.right).attr("initialPositionY",u.margins.top);
g.attr("transform","translate("+(k-w)/2+", "+d/2+")");e=Math.min(d,k-w)/2-u.margins.top;d=Math.min(d,k-w)/6-u.margins.top;d=q.arc().innerRadius(d).outerRadius(e);e=a.pie().value(function(a){return 0<a.value?Math.max(a.value,.015*r):0});g.selectAll("g.slice").data(e(b)).enter().append("g").attr("class","slice").append("path").attr("fill",function(a){return u.colors(a.data.id)}).attr("stroke","#fff").attr("stroke-width",5).attr("title",function(a){return a.label}).on("mouseover",function(a){return x.show(a.data,
event.target)}).on("mouseout",x.hide).attr("d",d)}else e.append("text").attr("transform","translate("+k/2+", "+d/2+")").style("text-anchor","middle").text("No Data")};$jscomp.global.Object.defineProperties(g.prototype,{formatters:{configurable:!0,enumerable:!0,get:function(){return{formatpercent:a.format(".1%")}}}});return g});
define("atlascharts/histogram",["d3","d3-tip","d3-scale","numeral","./chart"],function(a,n,q,h,c){var e=function(a){return c.apply(this,arguments)||this};$jscomp.inherits(e,c);e.mapHistogram=function(a){for(var b=[],g=a.MIN,k=a.INTERVAL_SIZE,d=this.normalizeDataframe(a.DATA),c=0;c<=a.INTERVALS;c+=1){var f={};f.x=g+1*c*k;f.dx=k;f.y=d.COUNT_VALUE[d.INTERVAL_INDEX.indexOf(c)]||0;b.push(f)}return b};e.prototype.drawBoxplot=function(a,b,c,k){c=this.xScale;var d=k/2;b.LIF!==b.q1&&(a.append("line").attr("class",
"bar").attr("x1",c(b.LIF)).attr("y1",k/2-d/2).attr("x2",c(b.LIF)).attr("y2",k/2+d/2),a.append("line").attr("class","whisker").attr("x1",c(b.LIF)).attr("y1",k/2).attr("x2",c(b.q1)).attr("y2",k/2));a.append("rect").attr("class","box").attr("x",c(b.q1)).attr("width",c(b.q3)-c(b.q1)).attr("height",k);a.append("line").attr("class","median").attr("x1",c(b.median)).attr("y1",0).attr("x2",c(b.median)).attr("y2",k);b.UIF!==b.q3&&(a.append("line").attr("class","bar").attr("x1",c(b.UIF)).attr("y1",k/2-d/2).attr("x2",
c(b.UIF)).attr("y2",k/2+d/2),a.append("line").attr("class","whisker").attr("x1",c(b.q3)).attr("y1",k/2).attr("x2",c(b.UIF)).attr("y2",k/2))};e.prototype.render=function(c,b,e,k,d){var g={ticks:10,yScale:q.scaleLinear(),boxplotHeight:10};d=this.getOptions(g,d);b=this.createSvg(b,e,k);this.xScale={};c=c||[];var f=n().attr("class","d3-tip").offset([-10,0]).html(function(a){return h(a.y).format("0,0")});b.call(f);var l=0;g=0;d.xLabel&&(l=b.append("g").attr("transform","translate("+e/2+", "+(k-d.margins.bottom)+
")"),l.append("text").attr("class","axislabel").style("text-anchor","middle").text(d.xLabel),l=l.node().getBBox().height);d.yLabel&&(g=b.append("g").attr("transform","translate(\n\t            "+d.margins.left+",\n\t            "+((k-d.margins.bottom-d.margins.top)/2+d.margins.top)+"\n\t          )"),g.append("text").attr("class","axislabel").attr("transform","rotate(-90)").attr("y",0).attr("x",0).attr("dy","1em").style("text-anchor","middle").text(d.yLabel),g=1.5*g.node().getBBox().width);e=e-d.margins.left-
d.margins.right-g;var v=k-d.margins.top-d.margins.bottom-l,m=this.xScale=q.scaleLinear().domain(d.xDomain||[a.min(c,function(a){return a.x}),a.max(c,function(a){return a.x+a.dx})]).range([0,e]);k=a.axisBottom().scale(m).ticks(d.ticks).tickFormat(d.xFormat);var u=d.yScale.domain([0,d.yMax||a.max(c,function(a){return a.y})]).range([v,0]);l=a.axisLeft().scale(u).ticks(4).tickFormat(d.yFormat);var r=b.append("g").attr("class","axis");r.call(k);var x=Math.round(r.node().getBBox().height),t=Math.round(r.node().getBBox().width);
v-=x;e-=Math.max(0,t-e);r.remove();t=b.append("g").attr("class","axis");t.call(l);r=Math.round(t.node().getBBox().width);e-=r;t.remove();d.boxplot&&(v-=12,x=b.append("g").attr("class","boxplot").attr("transform","translate("+(d.margins.left+g+r)+",\n\t          "+(d.margins.top+v+x)+")"),this.drawBoxplot(x,d.boxplot,e,8));m.range([0,e]);u.range([v,0]);d=b.append("g").attr("transform","translate(\n\t        "+(d.margins.left+g+r)+",\n\t        "+d.margins.top+")");d.selectAll(".bar").data(c).enter().append("g").attr("class",
"bar").attr("transform",function(a){return"translate("+m(a.x)+", "+u(a.y)+")"}).on("mouseover",function(a){return f.show(a,event.target)}).on("mouseout",f.hide).append("rect").attr("x",1).attr("width",function(a){return Math.max(m(a.x+a.dx)-m(a.x)-1,.5)}).attr("height",function(a){return v-u(a.y)});d.append("g").attr("class","x axis").attr("transform","translate(0, "+v+")").call(k);d.append("g").attr("class","y axis").attr("transform","translate(0, 0)").call(l)};return e});
define("atlascharts/line",["d3","d3-tip","d3-shape","d3-scale","./chart"],function(a,n,q,h,c){var e=function(a){return c.apply(this,arguments)||this};$jscomp.inherits(e,c);e.prototype.render=function(c,b,e,k,d){var g={xFormat:this.formatters.formatSI(3),yFormat:this.formatters.formatSI(3),interpolate:this.interpolation.linear,seriesName:"SERIES_NAME",xValue:"xValue",yValue:"yValue",cssClass:"lineplot",ticks:10,showSeriesLabel:!1,labelIndexDate:!1,colorBasedOnIndex:!1},f=this.getOptions(g,d);b=this.createSvg(b,
e,k);d=this.lineDefaultTooltip(f.xLabel||"x",f.xFormat,function(a){return a[f.xValue]},f.yLabel||"y",f.yFormat,function(a){return a[f.yValue]},function(a){return a[f.seriesName]});if(0<c.length){c[0].hasOwnProperty("values")||(c=[{name:"",values:c}]);var l=n().attr("class","d3-tip").offset([-10,0]).html(d);b.call(l);d=g=0;if(f.xLabel){var v=b.append("g").attr("transform","translate("+e/2+", "+(k-f.margins.bottom)+")");v.append("text").attr("class","axislabel").style("text-anchor","middle").text(f.xLabel);
v=v.node().getBBox();g+=v.height}f.yLabel&&(d=b.append("g").attr("transform","translate(\n\t              "+f.margins.left+",\n\t              "+((k-f.margins.bottom-f.margins.top)/2+f.margins.top)+"\n\t            )"),d.append("text").attr("class","axislabel").attr("transform","rotate(-90)").attr("y",0).attr("x",0).attr("dy","1em").style("text-anchor","middle").text(f.yLabel),v=d.node().getBBox(),d=1.5*v.width);v=0;if(f.showLegend){var m=b.append("g").attr("class","legend"),u=0;c.forEach(function(a,
b){m.append("rect").attr("x",0).attr("y",15*b).attr("width",10).attr("height",10).style("fill",f.colors(a.name));a=m.append("text").attr("x",12).attr("y",15*b+9).text(a.name);u=Math.max(a.node().getBBox().width+12,u)});m.attr("transform","translate(\n\t          "+(e-f.margins.right-u)+",\n\t          "+f.margins.top+"\n\t        )");v+=u+5}v=e-f.margins.left-f.margins.right-d-v;k=k-f.margins.top-f.margins.bottom-g;var r=f.xScale||h.scaleLinear().domain([a.min(c,function(b){return a.min(b.values,
function(a){return a[f.xValue]})}),a.max(c,function(b){return a.max(b.values,function(a){return a[f.xValue]})})]);e=a.axisBottom().scale(r).ticks(f.ticks);f.tickFormat?e.tickFormat(f.tickFormat):e.tickFormat(f.xFormat);"function"===typeof r.rangePoints?r.rangePoints([0,v]):r.range([0,v]);var x=f.yScale||h.scaleLinear().domain([0,a.max(c,function(b){return a.max(b.values,function(a){return a[f.yValue]})})]).range([k,0]);g=a.axisLeft().scale(x).tickFormat(f.yFormat).ticks(4);var t=b.append("g").attr("class",
"axis");t.call(e);var w=Math.round(t.node().getBBox().height),z=Math.round(t.node().getBBox().width);k-=w;v-=Math.max(0,z-v);t.remove();t=b.append("g").attr("class","axis");t.call(g);w=Math.round(t.node().getBBox().width);v-=w;t.remove();"function"===typeof r.rangePoints?r.rangePoints([0,v]):r.range([0,v]);x.range([k,0]);var p=q.line().x(function(a){return r(a[f.xValue])}).y(function(a){return x(a[f.yValue])}).curve(f.interpolate);b=b.append("g").attr("class",f.cssClass).attr("transform","translate(\n\t            "+
(f.margins.left+d+w)+",\n\t            "+f.margins.top+"\n\t          )");c=b.selectAll(".series").data(c).enter().append("g");d=c.append("path").attr("class","line").attr("d",function(b){return p(b.values.sort(function(b,c){return a.ascending(b[f.xValue],c[f.xValue])}))});f.colors&&d.style("stroke",function(a,b){return f.colors(a.name)});f.showSeriesLabel&&c.append("text").datum(function(a){return{name:a.name,value:a.values[a.values.length-1]}}).attr("transform",function(a){return"translate("+r(a.value[f.xValue])+
", "+x(a.value[f.yValue])+")"}).attr("x",3).attr("dy",2).style("font-size","8px").text(function(a){return a.name});var F=0,B=0;c.selectAll(".focus").data(function(a){return a.values}).enter().append("circle").attr("class","focus").attr("r",4).attr("transform",function(a){var b=r(a[f.xValue]),c=x(a[f.yValue]);0===a[f.xValue]&&0===B&&(F=b,B=c);return"translate("+b+", "+c+")"}).on("mouseover",function(b){a.select(this).style("opacity","1");l.show(b,event.target)}).on("mouseout",function(b){a.select(this).style("opacity",
"0");l.hide(b,event.target)});b.append("g").attr("class","x axis").attr("transform","translate(0, "+k+")").call(e);b.append("g").attr("class","y axis").call(g);f.labelIndexDate&&b.append("rect").attr("transform","translate("+(F-.5)+", "+B+")").attr("width",1).attr("height",k)}else b.append("text").attr("transform","translate("+e/2+", "+k/2+")").style("text-anchor","middle").text("No Data")};$jscomp.global.Object.defineProperties(e.prototype,{interpolation:{configurable:!0,enumerable:!0,get:function(){return{linear:a.curveLinear,
curveStep:a.curveStep,curveStepBefore:a.curveStepBefore,curveStepAfter:a.curveStepAfter,curveBasis:a.curveBasis,curveCardinal:a.curveCardinal,curveMonotoneX:a.curveMonotoneX,curveCatmullRom:a.curveCatmullRom}}}});return e});
define("get/main",[],function(){function a(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(P){}return b}function n(a){var b=-1,G=a?a.length:0;for(this.clear();++b<G;){var c=a[b];this.set(c[0],c[1])}}function q(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var G=a[b];this.set(G[0],G[1])}}function h(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var G=a[b];this.set(G[0],G[1])}}function c(a,b){for(var c=a.length;c--;){var G=a[c][0];if(G===b||G!==G&&b!==b)return c}return-1}
function e(a){if("string"==typeof a)return a;if(y(a))return L?L.call(a):"";var b=a+"";return"0"==b&&1/a==-f?"-0":b}function g(a,b){a=a.__data__;var c=typeof b;return("string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?a["string"==typeof b?"string":"hash"]:a.map}function b(b,c){b=null==b?void 0:b[c];!d(b)||B&&B in b?c=!1:(c=d(b)?E.call(b):"",c=("[object Function]"==c||"[object GeneratorFunction]"==c||a(b)?C:x).test(l(b)));return c?b:void 0}function l(a){if(null!=a){try{return K.call(a)}catch(O){}return a+
""}return""}function k(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new TypeError("Expected a function");var c=function(){var p=arguments,d=b?b.apply(this,p):p[0],e=c.cache;if(e.has(d))return e.get(d);p=a.apply(this,p);c.cache=e.set(d,p);return p};c.cache=new (k.Cache||h);return c}function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function y(a){return"symbol"==typeof a||!!a&&"object"==typeof a&&"[object Symbol]"==E.call(a)}var f=1/0,N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
v=/^\w*$/,m=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,t="object"==typeof self&&self&&self.Object===Object&&self;t="object"==typeof global&&global&&global.Object===Object&&global||t||Function("return this")();var w=Array.prototype,z=Function.prototype,p=Object.prototype,F=t["__core-js_shared__"],B=function(){var a=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),
K=z.toString,I=p.hasOwnProperty,E=p.toString,C=RegExp("^"+K.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");z=t.Symbol;var D=w.splice,H=b(t,"Map"),J=b(Object,"create"),L=(t=z?z.prototype:void 0)?t.toString:void 0;n.prototype.clear=function(){this.__data__=J?J(null):{}};n.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};n.prototype.get=function(a){var b=this.__data__;return J?(a=b[a],"__lodash_hash_undefined__"===
a?void 0:a):I.call(b,a)?b[a]:void 0};n.prototype.has=function(a){var b=this.__data__;return J?void 0!==b[a]:I.call(b,a)};n.prototype.set=function(a,b){this.__data__[a]=J&&void 0===b?"__lodash_hash_undefined__":b;return this};q.prototype.clear=function(){this.__data__=[]};q.prototype["delete"]=function(a){var b=this.__data__;a=c(b,a);if(0>a)return!1;a==b.length-1?b.pop():D.call(b,a,1);return!0};q.prototype.get=function(a){var b=this.__data__;a=c(b,a);return 0>a?void 0:b[a][1]};q.prototype.has=function(a){return-1<
c(this.__data__,a)};q.prototype.set=function(a,b){var p=this.__data__,d=c(p,a);0>d?p.push([a,b]):p[d][1]=b;return this};h.prototype.clear=function(){this.__data__={hash:new n,map:new (H||q),string:new n}};h.prototype["delete"]=function(a){return g(this,a)["delete"](a)};h.prototype.get=function(a){return g(this,a).get(a)};h.prototype.has=function(a){return g(this,a).has(a)};h.prototype.set=function(a,b){g(this,a).set(a,b);return this};var M=k(function(a){a=null==a?"":e(a);var b=[];m.test(a)&&b.push("");
a.replace(u,function(a,c,p,d){b.push(p?d.replace(r,"$1"):c||a)});return b});k.Cache=h;var A=Array.isArray;return function(a,b,c){if(null==a)b=void 0;else{var p=b;var d=a;if(A(p))p=!1;else{var e=typeof p;p="number"==e||"symbol"==e||"boolean"==e||null==p||y(p)?!0:v.test(p)||!N.test(p)||null!=d&&p in Object(d)}b=p?[b]:A(b)?b:M(b);p=0;for(d=b.length;null!=a&&p<d;){e=b[p++];if("string"!=typeof e&&!y(e)){var g=e+"";e="0"==g&&1/e==-f?"-0":g}a=a[e]}b=p&&p==d?a:void 0}return void 0===b?c:b}});
define("get",["get/main"],function(a){return a});
define("atlascharts/trellisline","d3 d3-tip d3-scale d3-shape ./chart get".split(" "),function(a,n,q,h,c,e){n=function(a){return c.apply(this,arguments)||this};$jscomp.inherits(n,c);n.prototype.render=function(c,b,l,k,d){function g(){var b=D.invert(a.mouse(event.target)[0]);A.selectAll(".g-label-value.g-start").call(f,b);A.selectAll(".g-label-year.g-start").call(n,b);A.selectAll(".g-value").attr("transform",function(a){if(a=a.values){a=a[u(a,b,0,a.length-1)];var c=0===a.Y_PREVALENCE_1000PP||a.Y_PREVALENCE_1000PP?
a.Y_PREVALENCE_1000PP:a.yPrevalence1000Pp;return a&&a.date?"translate("+D(a.date)+","+H(c)+")":"translate(0,0);"}})}function f(b,c){var p=a.scaleLinear().domain(D.range());b.each(function(b){var d=a.select(this);b=b.values;var e=u(b,c,0,b.length-1),f=Math.round(e/(b.length-1)*(b.length-12));if((e=b[e])&&e.date){var g=D(e.date);d.attr("dy",null).attr("y",-4);var k=0===e.Y_PREVALENCE_1000PP||e.Y_PREVALENCE_1000PP?e.Y_PREVALENCE_1000PP:e.yPrevalence1000Pp;d.text(m.yFormat(k)).attr("transform","translate(\n\t                "+
p.range([0,C.bandwidth()-this.getComputedTextLength()])(g)+",\n\t                "+H(a.max(b.slice(f,f+12),function(a){return k}))+"\n\t              )")}})}function n(b,p){var d=a.scaleLinear().domain(D.range()),f=e(c,"[0].values[0].values",[]),g=f[u(f,p,0,f.length-1)];if(g&&g.date){var k=D(g.date);b.each(function(b){a.select(this).text(g.date.getFullYear()).attr("transform","translate(\n\t              "+d.range([0,C.bandwidth()-this.getComputedTextLength()])(k)+",\n\t              "+(E+6)+"\n\t              )").style("display",
null)})}}var v={trellisSet:a.keys(c),xFormat:a.format("d"),yFormat:a.format("d"),interpolate:a.curveLinear},m=this.getOptions(v,d);b=this.createSvg(b,l,k);var u=a.bisector(function(a){return a.date}).left,r=a.min(c,function(b){return a.min(b.values,function(b){return a.min(b.values,function(a){return a.date})})}),x=a.max(c,function(b){return a.max(b.values,function(b){return a.max(b.values,function(a){return a.date})})});d=a.min(c,function(b){return a.min(b.values,function(b){return a.min(b.values,
function(a){return 0===a.Y_PREVALENCE_1000PP||a.Y_PREVALENCE_1000PP?a.Y_PREVALENCE_1000PP:a.yPrevalence1000Pp})})});var t=a.max(c,function(b){return a.max(b.values,function(b){return a.max(b.values,function(a){return 0===a.Y_PREVALENCE_1000PP||a.Y_PREVALENCE_1000PP?a.Y_PREVALENCE_1000PP:a.yPrevalence1000Pp})})});v=0;if(m.seriesLabel){var w=b.append("g");w.append("text").attr("class","axislabel").style("text-anchor","middle").attr("dy",".79em").text(m.seriesLabel);if(v=w.node())v=w.node().getBBox().height+
10}var z=0;if(m.trellisLabel){var p=b.append("g");p.append("text").attr("class","axislabel").style("text-anchor","middle").attr("dy",".79em").text(m.trellisLabel);z=p.node().getBBox().height+10}var F=0;var B=b.append("g").attr("class","g-label-trellis");B.append("text").text(m.trellisSet.join(""));F=B.node().getBBox().height+10;B.remove();var K=0;if(m.yLabel){var I=b.append("g");I.append("text").attr("class","axislabel").style("text-anchor","middle").text(m.yLabel);K=I.node().getBBox().height+4}l=
l-m.margins.left-K-m.margins.right;var E=k-m.margins.top-z-F-v-2*m.margins.bottom,C=q.scaleBand().domain(m.trellisSet).range([0,l]).paddingOuter(.2).paddingInner(.25),D=a.scaleTime().domain([r,x]).range([0,C.bandwidth()]),H=a.scaleLinear().domain([d,t]).range([E,0]);k=a.axisLeft().scale(H).tickFormat(m.yFormat).ticks(4);B=a.axisBottom().scale(D);t=b.append("g").attr("class","axis");t.call(B);B=Math.round(t.node().getBBox().height);var J=Math.round(t.node().getBBox().width);E-=B;l-=Math.max(0,J-l);
t.remove();t=b.append("g").attr("class","axis");t.call(k);var L=Math.round(t.node().getBBox().width);l-=L;t.remove();C.range([0,l]).paddingOuter(.2).paddingInner(.25);D.range([0,C.bandwidth()]);H.range([E,0]);m.trellisLabel&&p.attr("transform","translate(\n\t        "+(l/2+m.margins.left)+",\n\t        "+m.margins.top+"\n\t      )");m.seriesLabel&&w.attr("transform","translate(\n\t        "+(l/2+m.margins.left)+",\n\t        "+(z+E+B+v+2*m.margins.top)+"\n\t      )");m.yLabel&&(I.attr("transform",
"translate(\n\t        "+m.margins.left+",\n\t        "+(E/2+z+F)+"\n\t      )"),I.select("text").attr("transform","rotate(-90)").attr("y",0).attr("x",0).attr("dy","1em"));var M=h.line().x(function(a){return D(a.date)}).y(function(a){return H(0===a.Y_PREVALENCE_1000PP||a.Y_PREVALENCE_1000PP?a.Y_PREVALENCE_1000PP:a.yPrevalence1000Pp)}).curve(m.interpolate),A=a.select(b.node()).append("g").attr("transform",function(a){return"translate(\n\t        "+(K+L+m.margins.left)+",\n\t        "+z+"\n\t      )"}).selectAll(".g-trellis").data(C.domain()).enter().append("g").attr("class",
"g-trellis").attr("transform",function(a){return"translate("+C(a)+", "+F+")"});w=a.axisBottom().scale(D).tickFormat("").tickSize(-E);p=a.axisLeft().scale(H).tickFormat("").tickSize(-C.bandwidth()).ticks(8);A.append("g").attr("class","x-guide").attr("transform","translate(0, "+E+")").call(w);A.append("g").attr("class","y-guide").call(p);w=A.selectAll(".g-series").data(function(a){var b=c.filter(function(b){return b.key===a});return 0<b.length?b[0].values:[]}).enter().append("g").attr("class","g-series lineplot");
w.append("path").attr("class","line").attr("d",function(b){return M(b.values.sort(function(b,c){return a.ascending(b.date,c.date)}))}).style("stroke",function(a){return m.colors(a.key)});w.append("circle").attr("class","g-value").attr("transform",function(a){if((a=a.values)&&a[a.length-1]&&a[a.length-1].date&&a[a.length-1]&&(a[a.length-1].Y_PREVALENCE_1000PP||a[a.length-1].yPrevalence1000Pp)){var b=0===a[a.length-1].Y_PREVALENCE_1000PP||a[a.length-1].Y_PREVALENCE_1000PP?a[a.length-1].Y_PREVALENCE_1000PP:
a[a.length-1].yPrevalence1000Pp;return"translate("+D(a[a.length-1].date)+", "+H(b)+")"}return"translate(0, 0)"}).attr("r",2.5).style("display","none");w.append("text").attr("class","g-label-value g-start").call(f,r);w.append("text").attr("class","g-label-value g-end").call(f,x);A.append("text").attr("class","g-label-year g-start").attr("dy",".71em").call(n,r);A.append("text").attr("class","g-label-year g-end").attr("dy",".71em").call(n,x);A.append("g").attr("class","x axis").append("line").attr("x2",
C.bandwidth()).attr("y1",H(d)).attr("y2",H(d));A.append("g").attr("class","g-label-trellis").attr("transform",function(a){return"translate("+C.bandwidth()/2+", 0)"}).append("text").attr("dy","-1em").style("text-anchor","middle").text(function(a){return a});A.append("rect").attr("class","g-overlay").attr("x",-4).attr("width",C.bandwidth()+8).attr("height",E+18).on("mouseover",function(){A.selectAll(".g-end").style("display","none");A.selectAll(".g-value").style("display",null);g.call(this)}).on("mousemove",
g).on("mouseout",function(){A.selectAll(".g-end").style("display",null);A.selectAll(".g-label-value.g-start").call(f,r);A.selectAll(".g-label-year.g-start").call(n,r);A.selectAll(".g-label-year.g-end").call(n,x);A.selectAll(".g-value").style("display","none")});a.select(A.nodes()[0]).append("g").attr("class","y axis").attr("transform","translate(-4,0)").call(k);b.append("g").attr("transform","translate("+m.margins.left+", "+m.margins.top+")").call(function(a){var b=0;m.colors.domain().forEach(function(c){var p=
a.append("g").attr("class","trellisLegend"),d=p.append("text").text(c),e=p.node().getBBox();d.attr("x",12).attr("y",e.height);p.append("line").attr("x1",0).attr("y1",10).attr("x2",10).attr("y2",10).style("stroke",function(){return m.colors(c)});p.attr("transform","translate("+b+", 0)");b+=p.node().getBBox().width+5})})};return n});
define("atlascharts/treemap",["d3","d3-tip","./chart"],function(a,n,q){var h=function(a){return q.apply(this,arguments)||this};$jscomp.inherits(h,q);h.prototype.render=function(c,e,g,b,h){function k(c,d){d=void 0===d?!0:d;var p=g/(c.x1-c.x0)||g,k=b/(c.y1-c.y0)||b;c.x1&&c.y1?(q.domain([c.x0,c.x0+(c.x1-c.x0)]),v.domain([c.y0,c.y0+(c.y1-c.y0)])):(q.domain([0,g]),v.domain([0,b]));var h=a.select(e).select(".treemap_zoomtarget");if(h.size())if("root"===c.data.name)h.text("");else{var m=h.text();h.text(m+
" \x3e "+c.data.name)}h=f.selectAll("g.cell, .grouper");d&&(h=h.transition().duration(750));h.attr("transform",function(a){return"translate("+q(a.x0)+", "+v(a.y0)+")"}).on("end",function(){f.selectAll(".grouper").attr("display","block")});h.select("rect").attr("width",function(a){return Math.max(0,p*(a.x1-a.x0)-1)}).attr("height",function(a){return Math.max(0,k*(a.y1-a.y0)-1)});event&&event.stopPropagation();if(l.onZoom)l.onZoom(c)}function d(a){var c=g/(a.x1-a.x0),d=b/(a.y1-a.y0),p=x.children.filter(function(b){return b.parent===
a});f.selectAll(".grouper").remove();f.selectAll(".grouper").data(p).enter().append("g").attr("class","grouper").attr("transform",function(a){return"translate("+(a.x0+1)+", "+(a.y0+1)+")"}).attr("display","none").append("rect").attr("width",function(a){return Math.max(0,c*(a.x1-a.x0)-1)}).attr("height",function(a){return Math.max(0,d*(a.y1-a.y0)-1)}).attr("title",function(a){return a.name}).attr("id",function(a){return a.id})}var l=this.getOptions(h),f=this.createSvg(e,g,b),q=a.scaleLinear().range([0,
g]),v=a.scaleLinear().range([0,b]);a.select(e).select(".treemap_zoomtarget").text("");var m=0,u=n().attr("class","d3-tip").direction(function(a){var b=1===q.domain()[1]?g:q.domain()[1];return a.x1>=b-b/10?"w":a.x0<=b/10?"e":"n"}).offset([3,0]).html(function(a){return l.gettitle(a.data)+"\x3cbr/\x3e\x3cbr/\x3e"+l.getcontent(a.data)});h=a.treemap().round(!1).size([g,b]);var r=a.hierarchy(c,function(a){return a.children}).sum(l.getsizevalue),x=h(r);c=x.leaves().filter(function(a){return l.getsizevalue(a.data)});
var t=a.extent(c,function(a){return l.getcolorvalue(a.data)}),w=a.median(c,function(a){return l.getcolorvalue(a.data)});h=l.getcolorrange?l.getcolorrange():["#E4FF7A","#FC7F00"];t=[t[0],w,t[1]];l.getcolorscale&&(t=l.getcolorscale());var z=a.scaleLinear().domain(t).range(h);c=f.selectAll("g").data(c).enter().append("g").attr("class","cell").attr("transform",function(a){return"translate("+a.x0+", "+a.y0+")"});c.append("rect").attr("width",function(a){return Math.max(0,a.x1-a.x0-1)}).attr("height",function(a){return Math.max(0,
a.y1-a.y0-1)}).attr("id",function(a){return a.id}).style("fill",function(a){return z(l.getcolorvalue(a.data))}).on("click",function(a){l.useTip&&u.hide();if(event.altKey)k(r),d(r);else if(event.ctrlKey){for(;a.depth!==m+1;)a=a.parent;m=a.depth;a.children&&1<a.children.length?(d(a),k(a)):(m=0,d(r),k(r))}else l.onclick(a.data)});l.useTip?(f.call(u),c.on("mouseover",function(a){return u.show(a,event.target)}).on("mouseout",function(a){return u.hide(a,event.target)})):c.attr("data-container","body").attr("data-toggle",
"popover").attr("data-trigger","hover").attr("data-placement","top").attr("data-html",!0).attr("data-title",function(a){return l.gettitle(a.data)}).attr("data-content",function(a){return l.getcontent(a.data)});l.initialZoomedConcept?(d(l.initialZoomedConcept),k(l.initialZoomedConcept,!1)):d(r);f.selectAll(".grouper").attr("display","block")};h.buildHierarchyFromJSON=function(a,e,g){var b=0,c={name:"root",children:[]};a.PERCENT_PERSONS.forEach(function(a){b+=a});a.CONCEPT_PATH.forEach(function(k,d){k=
k.split("||");for(var h=c,f={},l=0;l<k.length;f={nodeName:f.nodeName,childNode:f.childNode,foundChild:f.foundChild},l+=1){var n=h.children;f.nodeName=k[l];f.childNode=void 0;l+1<k.length?(f.foundChild=!1,n.forEach(function(a){return function(b){b.name===a.nodeName&&(a.childNode=b,a.foundChild=!0)}}(f)),f.foundChild||(f.childNode={name:f.nodeName,children:[]},n.push(f.childNode)),h=f.childNode):(f.childNode=g(f.nodeName,d,a),a.PERCENT_PERSONS[d]/b>e&&n.push(f.childNode))}});return c};$jscomp.global.Object.defineProperties(h.prototype,
{formatters:{configurable:!0,enumerable:!0,get:function(){return{format_pct:a.format(".2%"),format_fixed:a.format(".2f"),format_comma:a.format(",")}}}});return h});
define("atlascharts/scatterplot",["d3","d3-tip","./chart"],function(a,n,q){var h=function(a){return q.apply(this,arguments)||this};$jscomp.inherits(h,q);h.prototype.render=function(c,e,g,b,h){var k={xFormat:this.formatters.formatSI(3),yFormat:this.formatters.formatSI(3),interpolate:a.curveLinear,seriesName:"SERIES_NAME",xValue:"xValue",yValue:"yValue",cssClass:"lineplot",ticks:10,showSeriesLabel:!1,labelIndexDate:!1,colorBasedOnIndex:!1,showXAxis:!0,tooltip:function(a){return"\x3cdiv\x3eSeries: "+
a.seriesName+"\x3c/div\x3e\n\t\t\t\t\t\x3cdiv\x3eX: "+a[d.xValue]+"\x3c/div\x3e\n\t\t\t\t\t\x3cdiv\x3eY: "+a[d.yValue]+"\x3c/div\x3e\n\t\t\t\t\t"}},d=this.getOptions(k,h);d.colors=h.colors?a.scaleOrdinal(Object.values(h.colors)).domain(Object.keys(h.colors)):a.scaleOrdinal(a.schemeCategory20).domain(c.map(function(a){return a.name}));e=this.createSvg(e,g,b);if(0<c.length){c[0].hasOwnProperty("values")||(c=[{name:"",values:c}]);var l=n().attr("class","d3-tip").offset([-10,0]).html(d.tooltip);e.call(l);
h=k=0;if(d.xLabel){var f=e.append("g").attr("transform","translate("+g/2+","+(b-d.margins.bottom)+")");f.append("text").attr("class","axislabel").style("text-anchor","middle").text(d.xLabel);f=f.node().getBBox();k+=f.height}d.yLabel&&(h=e.append("g").attr("transform","translate("+d.margins.left+","+((b-d.margins.bottom-d.margins.top)/2+d.margins.top)+")"),h.append("text").attr("class","axislabel").attr("transform","rotate(-90)").attr("y",0).attr("x",0).attr("dy","1em").style("text-anchor","middle").text(d.yLabel),
f=h.node().getBBox(),h=1.5*f.width);f=0;if(d.showLegend){var q=e.append("g").attr("class","legend"),v=0;c.forEach(function(a,b){q.append("rect").attr("x",0).attr("y",15*b).attr("width",10).attr("height",10).style("fill",d.colors(a.name));a=q.append("text").attr("x",12).attr("y",15*b+9).text(a.name);v=Math.max(a.node().getBBox().width+12,v)});q.attr("transform","translate("+(g-d.margins.right-v)+",0)");f+=v+5}g=g-d.margins.left-d.margins.right-h-f;b=b-d.margins.top-d.margins.bottom-k;var m=d.xScale||
a.scaleLinear().domain([a.min(c,function(b){return a.min(b.values,function(a){return a[d.xValue]})}),a.max(c,function(b){return a.max(b.values,function(a){return a[d.xValue]})})]);k=a.axisBottom().scale(m).ticks(d.ticks);d.tickFormat?k.tickFormat(d.tickFormat):k.tickFormat(d.xFormat);"function"===typeof m.rangePoints?m.rangePoints([0,g]):m.range([0,g]);var u=d.yScale||a.scaleLinear().domain([0,a.max(c,function(b){return a.max(b.values,function(a){return a[d.yValue]})})]).range([b,0]);f=a.axisLeft().scale(u).tickFormat(d.yFormat).ticks(4);
var r=e.append("g").attr("class","axis");r.call(k);var x=Math.round(r.node().getBBox().height),t=Math.round(r.node().getBBox().width);b-=x;g-=Math.max(0,t-g);r.remove();r=e.append("g").attr("class","axis");r.call(f);x=Math.round(r.node().getBBox().width);g-=x;r.remove();"function"===typeof m.rangePoints?m.rangePoints([0,g]):m.range([0,g]);u.range([b,0]);e=e.append("g").attr("class",d.cssClass).attr("transform","translate("+(d.margins.left+h+x)+","+d.margins.top+")");c=e.selectAll(".series").data(c).enter().append("g");
c.selectAll(".dot").data(function(a){return a.values.map(function(b){return Object.assign({},b,{seriesName:a.name})})}).enter().append("circle").attr("class","dot").attr("r",1).style("fill",function(a,b){return d.colors(a.seriesName)}).attr("transform",function(a){var b=m(a[d.xValue]);a=u(a[d.yValue]);return"translate("+b+","+a+")"});d.showSeriesLabel&&c.append("text").datum(function(a){return{name:a.name,value:a.values[a.values.length-1]}}).attr("transform",function(a){return"translate("+m(a.value[d.xValue])+
","+u(a.value[d.yValue])+")"}).attr("x",3).attr("dy",2).style("font-size","8px").text(function(a){return a.name});var w=0,z=0;c.selectAll(".focus").data(function(a){return a.values.map(function(b){return Object.assign({},b,{seriesName:a.name})})}).enter().append("circle").attr("class","focus").attr("r",1).attr("transform",function(a){var b=m(a[d.xValue]),c=u(a[d.yValue]);0===a[d.xValue]&&0===z&&(w=b,z=c);return"translate("+b+","+c+")"}).on("mouseover",function(b){a.select(this).style("opacity","1");
l.show(b,event.target)}).on("mouseout",function(b){a.select(this).style("opacity","0");l.hide(b,event.target)});d.showXAxis&&e.append("g").attr("class","x axis").attr("transform","translate(0,"+b+")").call(k);e.append("g").attr("class","y axis").call(f);d.labelIndexDate&&e.append("rect").attr("transform",function(){return"translate("+(w-.5)+","+z+")"}).attr("width",1).attr("height",b)}else e.append("text").attr("transform","translate("+g/2+","+b/2+")").style("text-anchor","middle").text("No Data")};
return h});
define("atlascharts/main","require ./chart ./areachart ./barchart ./boxplot ./donut ./histogram ./line ./trellisline ./treemap ./scatterplot".split(" "),function(a){var n={version:"0.0.1"},q=a("./chart"),h=a("./areachart"),c=a("./barchart"),e=a("./boxplot"),g=a("./donut"),b=a("./histogram"),l=a("./line"),k=a("./trellisline"),d=a("./treemap");a=a("./scatterplot");n.chart=q;n.areachart=h;n.barchart=c;n.boxplot=e;n.donut=g;n.histogram=b;n.line=l;n.trellisline=k;n.treemap=d;n.scatterplot=a;return n});
define("atlascharts",["atlascharts/main"],function(a){return a});
